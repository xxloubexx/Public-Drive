EasyRSA :

apt install easy-rsa

cd /usr/share/easy-rsa
cp vars.example pki/vars
vim pki/vars
set_var EASYRSA_REQ_COUNTRY "FR"
set_var EASYRSA_REQ_PROVINCE "VENDEE"
set_var EASYRSA_REQ_CITY "CHALLANSLASTREET"
set_var EASYRSA_REQ_ORG "AFORP"
set_var EASYRSA_REQ_EMAIL "dodo@lpb.fr"
set_var EASYRSA_REQ_OU "AFORP"
set_var EASYRSA_REQ_CN "LYON2024-CA"

./easyrsa init-pki
./easyrsa --req-cn=LYON2024-CA build-ca nopass
Common Name : LYON2024-CA

Creer plusieurs certificat avec le meme nom de domaine
for srv in room book admin
do
    /usr/share/easy-rsa/easyrsa --batch gen-req $srv.patiobrancion.com nopass
    /usr/share/easy-rsa/easyrsa --batch sign-req server $srv.patiobrancion.com
done



Make a SUBCA

ON SUBCA

./easyrsa init-pki
./easyrsa build-ca subca nopass
cp /pki/reqs/PATIO-CA.req  ./server_CA/PKI/pki/reqs/PATIO-CA.req

ON CA
easyrsa_CA sign-req ca PATIO-CA
cp /pki/issued/PATIO-CA.crt server_subCA/PKI/pki/PATIO-CA.crt

Make a alternative name : 
./easyrsa --subject-alt-name="DNS:vpn.patiobrancion.com,DNS:home.patiobrancion.com,DNS:room.patiobrancion.com,DNS:bastion.patiobrancion.com,DNS:admin.patiobrancion.com,DNS:book.patiobrancion.com,DNS:reward.patiobrancion.com" sign-req server vpn.patiobrancion.com

Il faut pour finir declarer notre ca sur nos client :
ON CA
scp my-ca.crt user@debian-client:/usr/local/share/ca-certificates/my-ca.crt
ON Client
update-ca-certificate